{"version":3,"file":"react-rating.umd.js","sources":["../src/RatingSymbol.js","../src/Rating.js","../src/utils/noop.js","../src/utils/style.js","../src/RatingAPILayer.js"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\n// Return the corresponding React node for an icon.\r\nconst _iconNode = (icon) => {\r\n  // If it is already a React Element just return it.\r\n  if (React.isValidElement(icon)) {\r\n    return icon;\r\n  }\r\n  // If it is an object, try to use it as a CSS style object.\r\n  if (typeof icon === 'object' && icon !== null) {\r\n    return <span style={icon} />;\r\n  }\r\n  // If it is a string, use it as class names.\r\n  if (Object.prototype.toString.call(icon) === '[object String]') {\r\n    return <span className={icon} />;\r\n  }\r\n};\r\n\r\nclass RatingSymbol extends React.PureComponent {\r\n  render() {\r\n    const {\r\n      index,\r\n      inactiveIcon,\r\n      activeIcon,\r\n      percent,\r\n      direction,\r\n      showInactive,\r\n      readonly,\r\n      onClick,\r\n      onMouseMove\r\n    } = this.props;\r\n    const backgroundNode = _iconNode(inactiveIcon);\r\n    const bgIconContainerStyle = showInactive\r\n      ? {}\r\n      : {\r\n          display: \"inline-block\",\r\n          overflow: \"hidden\",\r\n          top: 0,\r\n          [direction === \"rtl\" ? \"left\" : \"right\"]: 0,\r\n          width: `${100 - percent}%`\r\n        };\r\n    const iconNode = _iconNode(activeIcon);\r\n    const iconContainerStyle = {\r\n      display: 'inline-block',\r\n      position: 'absolute',\r\n      overflow: 'hidden',\r\n      top: 0,\r\n      [direction === 'rtl' ? 'right' : 'left']: 0,\r\n      width: `${percent}%`\r\n    };\r\n    const style = {\r\n      cursor: !readonly ? 'pointer' : 'inherit',\r\n      display: 'inline-block',\r\n      position: 'relative'\r\n    };\r\n\r\n    function handleMouseMove(e) {\r\n      if (onMouseMove) {\r\n        onMouseMove(index, e);\r\n      }\r\n    }\r\n\r\n    function handleMouseClick(e) {\r\n      if (onClick) {\r\n        // [Supporting both TouchEvent and MouseEvent](https://developer.mozilla.org/en-US/docs/Web/API/Touch_events/Supporting_both_TouchEvent_and_MouseEvent)\r\n        // We must prevent firing click event twice on touch devices.\r\n        e.preventDefault();\r\n        onClick(index, e);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <span\r\n        style={style}\r\n        onClick={handleMouseClick}\r\n        onMouseMove={handleMouseMove}\r\n        onTouchMove={handleMouseMove}\r\n        onTouchEnd={handleMouseClick}\r\n      >\r\n        <span style={bgIconContainerStyle}>\r\n          {backgroundNode}\r\n        </span>\r\n        <span style={iconContainerStyle}>\r\n          {iconNode}\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n// Define propTypes only in development. They will be void in production.\r\nRatingSymbol.propTypes = typeof __DEV__ !== 'undefined' && __DEV__ && {\r\n  index: PropTypes.number.isRequired,\r\n  readonly: PropTypes.bool.isRequired,\r\n  inactiveIcon: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.object,\r\n    PropTypes.element\r\n  ]).isRequired,\r\n  activeIcon: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.object,\r\n    PropTypes.element\r\n  ]).isRequired,\r\n  percent: PropTypes.number.isRequired,\r\n  direction: PropTypes.string.isRequired,\r\n  showInactive: PropTypes.bool.isRequired,\r\n  onClick: PropTypes.func,\r\n  onMouseMove: PropTypes.func,\r\n  onTouchMove: PropTypes.func,\r\n  onTouchEnd: PropTypes.func\r\n};\r\n\r\nexport default RatingSymbol;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Symbol from './RatingSymbol';\r\n\r\nclass Rating extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // Indicates the value that is displayed to the user in the form of symbols.\r\n      // It can be either 0 (for no displayed symbols) or (0, end]\r\n      displayValue: this.props.value,\r\n      // Indicates if the user is currently hovering over the rating element\r\n      interacting: false\r\n    };\r\n    this.onMouseLeave = this.onMouseLeave.bind(this);\r\n    this.symbolMouseMove = this.symbolMouseMove.bind(this);\r\n    this.symbolClick = this.symbolClick.bind(this);\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const valueChanged = this.props.value !== nextProps.value;\r\n    this.setState((prevState) => ({\r\n      displayValue: valueChanged ? nextProps.value : prevState.displayValue\r\n    }));\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // Ignore state update due to value changed from props.\r\n    // Usually originated through an onClick event.\r\n    if (prevProps.value !== this.props.value) {\r\n      return;\r\n    }\r\n\r\n    // When hover ends, call this.props.onHover with no value.\r\n    if (prevState.interacting && !this.state.interacting) {\r\n      return this.props.onHover();\r\n    }\r\n\r\n    // When hover over.\r\n    if (this.state.interacting) {\r\n      this.props.onHover(this.state.displayValue);\r\n    }\r\n  }\r\n\r\n  symbolClick(symbolIndex, event) {\r\n    const value = this.calculateDisplayValue(symbolIndex, event);\r\n    this.props.onClick(value, event);\r\n  }\r\n\r\n  symbolMouseMove(symbolIndex, event) {\r\n    const value = this.calculateDisplayValue(symbolIndex, event);\r\n    // This call should cause an update only if the state changes.\r\n    // Mainly the first time the mouse enters and whenever the value changes.\r\n    // So DidComponentUpdate is NOT called for every mouse movement.\r\n    this.setState({\r\n      interacting: !this.props.readonly,\r\n      displayValue: value\r\n    });\r\n  }\r\n\r\n  onMouseLeave() {\r\n    this.setState({\r\n      displayValue: this.props.value,\r\n      interacting: false\r\n    });\r\n  }\r\n\r\n  calculateDisplayValue(symbolIndex, event) {\r\n    const percentage = this.calculateHoverPercentage(event);\r\n    // Get the closest top fraction.\r\n    const fraction = Math.ceil(percentage % 1 * this.props.fractions) / this.props.fractions;\r\n    // Truncate decimal trying to avoid float precission issues.\r\n    const precision = 10 ** 3;\r\n    const displayValue =\r\n      symbolIndex + (Math.floor(percentage) + Math.floor(fraction * precision) / precision);\r\n    // ensure the returned value is greater than 0 and lower than totalSymbols\r\n    return displayValue > 0 ? displayValue > this.props.totalSymbols ? this.props.totalSymbols : displayValue : 1 / this.props.fractions;\r\n  }\r\n\r\n  calculateHoverPercentage(event) {\r\n    const clientX = event.nativeEvent.type.indexOf(\"touch\") > -1\r\n      ? event.nativeEvent.type.indexOf(\"touchend\") > -1\r\n        ? event.changedTouches[0].clientX\r\n        : event.touches[0].clientX\r\n      : event.clientX;\r\n\r\n    const targetRect = event.target.getBoundingClientRect();\r\n    const delta = this.props.direction === 'rtl'\r\n      ? targetRect.right - clientX\r\n      : clientX - targetRect.left;\r\n\r\n    // Returning 0 if the delta is negative solves the flickering issue\r\n    return delta < 0 ? 0 : delta / targetRect.width;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      readonly,\r\n      quiet,\r\n      totalSymbols,\r\n      value,\r\n      placeholderValue,\r\n      direction,\r\n      showInactive,\r\n      emptySymbol,\r\n      fullSymbol,\r\n      placeholderSymbol,\r\n      className,\r\n      id,\r\n      style,\r\n      tabIndex\r\n    } = this.props;\r\n    const { displayValue, interacting } = this.state;\r\n    const symbolNodes = [];\r\n    const empty = [].concat(emptySymbol);\r\n    const full = [].concat(fullSymbol);\r\n    const placeholder = [].concat(placeholderSymbol);\r\n    const shouldDisplayPlaceholder =\r\n      placeholderValue !== 0 &&\r\n      value === 0 &&\r\n      !interacting;\r\n\r\n    // The value that will be used as base for calculating how to render the symbols\r\n    let renderedValue;\r\n    if (shouldDisplayPlaceholder) {\r\n      renderedValue = placeholderValue;\r\n    } else {\r\n      renderedValue = quiet ? value : displayValue;\r\n    }\r\n\r\n    // The amount of full symbols\r\n    const fullSymbols = Math.floor(renderedValue);\r\n\r\n    for (let i = 0; i < totalSymbols; i++) {\r\n      let percent;\r\n      // Calculate each symbol's fullness percentage\r\n      if (i - fullSymbols < 0) {\r\n        percent = 100;\r\n      } else if (i - fullSymbols === 0) {\r\n        percent = (renderedValue - i) * 100;\r\n      } else {\r\n        percent = 0;\r\n      }\r\n\r\n      symbolNodes.push(\r\n        <Symbol\r\n          key={i}\r\n          index={i}\r\n          readonly={readonly}\r\n          inactiveIcon={empty[i % empty.length]}\r\n          activeIcon={\r\n            shouldDisplayPlaceholder ? placeholder[i % full.length] : full[i % full.length]\r\n          }\r\n          percent={percent}\r\n          direction={direction}\r\n          showInactive={showInactive}\r\n          {...(!readonly && {\r\n            onClick: this.symbolClick,\r\n            onMouseMove: this.symbolMouseMove,\r\n            onTouchMove: this.symbolMouseMove,\r\n            onTouchEnd: this.symbolClick\r\n          })}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <span\r\n        id={id}\r\n        style={{...style, display: 'inline-block', direction }}\r\n        className={className}\r\n        tabIndex={tabIndex}\r\n        aria-label={this.props['aria-label']}\r\n        {...(!readonly && {\r\n          onMouseLeave: this.onMouseLeave\r\n        })}\r\n      >\r\n        {symbolNodes}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n// Define propTypes only in development.\r\nRating.propTypes = typeof __DEV__ !== 'undefined' && __DEV__ && {\r\n  totalSymbols: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired, // Always >= 0\r\n  placeholderValue: PropTypes.number.isRequired,\r\n  readonly: PropTypes.bool.isRequired,\r\n  quiet: PropTypes.bool.isRequired,\r\n  fractions: PropTypes.number.isRequired,\r\n  direction: PropTypes.string.isRequired,\r\n  showInactive: PropTypes.bool.isRequired,\r\n  emptySymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]).isRequired,\r\n  fullSymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]).isRequired,\r\n  placeholderSymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]),\r\n  onClick: PropTypes.func.isRequired,\r\n  onHover: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Rating;\r\n","function noop() {}\r\nnoop._name = 'react_rating_noop';\r\n\r\nexport default noop;\r\n","var style = {\r\n  display: 'inline-block',\r\n  borderRadius: '50%',\r\n  border: '5px double white',\r\n  width: 30,\r\n  height: 30\r\n};\r\n\r\nexport default {\r\n  empty: {\r\n    ...style,\r\n    backgroundColor: '#ccc'\r\n  },\r\n  full: {\r\n    ...style,\r\n    backgroundColor: 'black'\r\n  },\r\n  placeholder: {\r\n    ...style,\r\n    backgroundColor: 'red'\r\n  }\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Rating from './Rating';\r\nimport noop from './utils/noop';\r\nimport Style from './utils/style';\r\n\r\nclass RatingAPILayer extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: props.initialRating\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleHover = this.handleHover.bind(this);\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.initialRating\r\n    });\r\n  }\r\n\r\n  handleClick(value, e) {\r\n    const newValue = this.translateDisplayValueToValue(value);\r\n    this.props.onClick(newValue);\r\n    // Avoid calling setState if not necessary. Micro optimisation.\r\n    if (this.state.value !== newValue) {\r\n      // If we have a new value trigger onChange callback.\r\n      this.setState({\r\n        value: newValue\r\n      }, () => this.props.onChange(this.state.value));\r\n    }\r\n  }\r\n\r\n  handleHover(displayValue) {\r\n    const value = displayValue === undefined\r\n      ? displayValue\r\n      : this.translateDisplayValueToValue(displayValue);\r\n    this.props.onHover(value);\r\n  }\r\n\r\n  translateDisplayValueToValue(displayValue) {\r\n    const translatedValue = displayValue * this.props.step + this.props.start;\r\n    // minimum value cannot be equal to start, since it's exclusive\r\n    return translatedValue === this.props.start\r\n      ? translatedValue + 1 / this.props.fractions\r\n      : translatedValue;\r\n  }\r\n\r\n  tranlateValueToDisplayValue(value) {\r\n    if (value === undefined) {\r\n      return 0;\r\n    }\r\n    return (value - this.props.start) / this.props.step;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      step,\r\n      emptySymbol,\r\n      fullSymbol,\r\n      placeholderSymbol,\r\n      readonly,\r\n      quiet,\r\n      fractions,\r\n      direction,\r\n      showInactive,\r\n      start,\r\n      stop,\r\n      id,\r\n      className,\r\n      style,\r\n      tabIndex\r\n    } = this.props;\r\n\r\n    function calculateTotalSymbols(start, stop, step) {\r\n      return Math.floor((stop - start) / step);\r\n    }\r\n\r\n    return (\r\n      <Rating\r\n        id={id}\r\n        style={style}\r\n        className={className}\r\n        tabIndex={tabIndex}\r\n        aria-label={this.props['aria-label']}\r\n        totalSymbols={calculateTotalSymbols(start, stop, step)}\r\n        value={this.tranlateValueToDisplayValue(this.state.value)}\r\n        placeholderValue={this.tranlateValueToDisplayValue(this.props.placeholderRating)}\r\n        readonly={readonly}\r\n        quiet={quiet}\r\n        fractions={fractions}\r\n        direction={direction}\r\n        showInactive={showInactive}\r\n        emptySymbol={emptySymbol}\r\n        fullSymbol={fullSymbol}\r\n        placeholderSymbol={placeholderSymbol}\r\n        onClick={this.handleClick}\r\n        onHover={this.handleHover}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nRatingAPILayer.defaultProps = {\r\n  start: 0,\r\n  stop: 5,\r\n  step: 1,\r\n  readonly: false,\r\n  quiet: false,\r\n  fractions: 1,\r\n  direction: 'ltr',\r\n  showInactive: true,\r\n  onHover: noop,\r\n  onClick: noop,\r\n  onChange: noop,\r\n  emptySymbol: Style.empty,\r\n  fullSymbol: Style.full,\r\n  placeholderSymbol: Style.placeholder\r\n};\r\n\r\n// Define propTypes only in development.\r\nRatingAPILayer.propTypes = typeof __DEV__ !== 'undefined' && __DEV__ && {\r\n  start: PropTypes.number,\r\n  stop: PropTypes.number,\r\n  step: PropTypes.number,\r\n  initialRating: PropTypes.number,\r\n  placeholderRating: PropTypes.number,\r\n  readonly: PropTypes.bool,\r\n  quiet: PropTypes.bool,\r\n  fractions: PropTypes.number,\r\n  direction: PropTypes.string,\r\n  showInactive: PropTypes.bool,\r\n  emptySymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]),\r\n  fullSymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]),\r\n  placeholderSymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]),\r\n  onHover: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  onChange: PropTypes.func\r\n};\r\n\r\nexport default RatingAPILayer;\r\n"],"names":["_iconNode","icon","React","isValidElement","Object","prototype","toString","call","RatingSymbol","props","index","inactiveIcon","activeIcon","percent","direction","showInactive","readonly","onClick","onMouseMove","backgroundNode","bgIconContainerStyle","display","overflow","top","iconNode","iconContainerStyle","position","style","cursor","handleMouseMove","e","handleMouseClick","preventDefault","PureComponent","Rating","state","displayValue","value","interacting","onMouseLeave","bind","symbolMouseMove","symbolClick","nextProps","valueChanged","setState","prevState","prevProps","onHover","symbolIndex","event","calculateDisplayValue","percentage","calculateHoverPercentage","fraction","Math","ceil","fractions","precision","floor","totalSymbols","clientX","nativeEvent","type","indexOf","changedTouches","touches","targetRect","target","getBoundingClientRect","delta","right","left","width","quiet","placeholderValue","emptySymbol","fullSymbol","placeholderSymbol","className","id","tabIndex","symbolNodes","empty","concat","full","placeholder","shouldDisplayPlaceholder","renderedValue","fullSymbols","i","push","_Symbol","length","onTouchMove","onTouchEnd","noop","_name","borderRadius","border","height","backgroundColor","RatingAPILayer","initialRating","handleClick","handleHover","newValue","translateDisplayValueToValue","onChange","undefined","translatedValue","step","start","stop","calculateTotalSymbols","tranlateValueToDisplayValue","placeholderRating","defaultProps","Style"],"mappings":"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"}